<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <script src="https://cdn.socket.io/4.6.0/socket.io.min.js" integrity="sha384-c79GN5VsunZvi+Q/WObgk2in0CbZsHnjEqvFxC5DxHn9lTfNce2WW6h2pH6u/kF+" crossorigin="anonymous"></script>
</head>
<body>

<button id="sendMessage">send message</button>
<button id="joinRoom1">Join room1</button>
<button id="joinRoom2">Leave room1</button>
<button id="unique">All</button>


<script>
    const sendMsgBtn = document.getElementById("sendMessage");
    const joinRm1Btn = document.getElementById("joinRoom1");
    const leaveRm1Btn = document.getElementById("joinRoom2");
    const allBtn = document.getElementById("unique");

  const socket = io("http://localhost:5100");

  socket.emit("test:action", {message: "YI yi"});

  // socket.on("test:message", (data) => {
  //     document.write(data.message);
  // });

    sendMsgBtn.onclick = () => {
        socket.emit("send:message","testing the first message by button!")
    };

    socket.on("broadcast:message", (data) => {
        document.write(data);
    });

    socket.on("new_msg", (data) => {
        console.log(data);
    });

    joinRm1Btn.onclick = () => {
        socket.emit("join:room1", {roomId: 1});
    };

    socket.on("joined:room", data => {
        console.log(data);
    });

    leaveRm1Btn.onclick = () => {
        socket.emit("leave:room", {roomId: 1});
    };


    socket.on("left:room", data => {
        console.log(data);
    });


    allBtn.onclick = () => {
        socket.emit("to:all", "send message to all test");
    };

</script>

</body>
</html>